{% load static %}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- <script src="{% static 'Login/js/session_timeout.js' %}"></script> -->
    <link rel="icon" href="{% static 'Login/images/fevflightworld.png' %}" />
    <link
      href="https://unpkg.com/boxicons@2.0.9/css/boxicons.min.css"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="{% static 'Login/CSS/profile.css' %}" />

    <title>Profile</title>
    <style>
      /* Add your existing CSS styles here */

      main {
        display: flex;
        flex-wrap: wrap;
        justify-content: space-around;
        padding: 20px;
        justify-content: center; /* Center the containers horizontally */
        align-items: center; /* Center the containers vertically */
        height: 100vh;
      }

      .container {
        width: 45%;
        background-color: #f2f2f2;
        padding: 20px;
        margin: 10px;
        border-radius: 10px;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
      }

      .btn {
        display: block;
        width: 100%;
        padding: 10px;
        margin-top: 15px;
        background-color: #4168bb; /*#007bff */
        color: #fff;
        border: none;
        border-radius: 5px;
        cursor: pointer;
      }

      .btn:hover {
        background-color: #afc1e8;
        color: black;
        /* #0056b3; */
      }

      /* Specific styles for container1 and container2 */

      nav {
        background-color: #333;
        padding: 10px;
        color: black;
        position: relative;
      }

      #movingText {
        position: absolute;
        left: 0;
        white-space: nowrap;
        overflow: hidden;
        font-size: 18px; /* Adjust the font size as needed */
        animation: moveText 10s linear infinite; /* Adjust the duration as needed */
      }

      @keyframes moveText {
        0% {
          transform: translateX(100%);
        }
        100% {
          transform: translateX(-100%);
        }
      }

      /* Style for the "Get Help" button */
      .btn-get-help {
        display: flex;
        justify-content: center;
        align-items: center;
      }

      /* Style for the "Post Help" button */
      .btn-post-help {
        display: flex;
        justify-content: center;
        align-items: center;
      }
      #container1 p {
        margin-bottom: 15px;
      }
      #container1 img,
      #container2 img {
        max-width: 100%; /* Set the maximum width of the images to 100% */
        height: auto; /* Allow the height to scale accordingly */
      }
      .text {
        color: #4168bb;
      }
      .emoji {
        color: #4168bb;
      }
      .modal {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.5);
        justify-content: center;
        align-items: center;
        z-index: 1;
      }

      .modal-content {
        background-color: white;
        padding: 20px;
        border-radius: 10px;
        box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.1);
        text-align: center;
      }

      .modal::backdrop {
        backdrop-filter: blur(5px);
      }
    </style>
  </head>
  <body>
    <!-- <section id="content" class="profile-content">
       
        <img id="profile-image" src="https://www.shutterstock.com/shutterstock/videos/1094802779/thumb/4.jpg?ip=x480" alt="Profile Image">
    </section> -->

    <section id="sidebar" id="Edit Profile">
      <a href="#" class="brand" onclick="loadProfileImage()">
        <i class="bx bxs-smile emoji"></i>
        <span class="text">Hi, {{ user.username }}</span>
      </a>
      <ul class="side-menu top">
        <li>
          <a href="{% url 'base' %}">
            <i class="bx bxs-dashboard emoji"></i>
            <span class="text">Home</span>
          </a>
        </li>
       

        <li>
          <a href="{% url 'profile' %}">
            <i class="bx bxs-doughnut-chart emoji"></i>
            <span class="text">My Profile</span>
          </a>
        </li>
        <!-- <li>
                <a href="#" id="my-posts-link">
                    <i class='bx bxs-shopping-bag-alt' ></i>
                    <span class="text">My Posts</span>
                </a>
            </li>
           
           
           
            <li>
                <a href="#">
                    <i class='bx bxs-message-dots' ></i>
                    <span class="text">Chats</span>
                </a>
            </li> -->
        <li>
          <a href="{% url 'logout' %}" id="logoutButton">
            <i class="bx bxs-log-out-circle emoji"></i>
            <span class="text">Logout</span>
          </a>
        </li>
      </ul>
    </section>
      <section id="content">
        <nav>
          <div id="movingText">
            Yayyy! You are at the right place. Go ahead and have a great
            experience.
          </div>
        </nav>
        <main>
            <div id="logoutModal" class="modal">
                <div class="modal-content">
                  <p>Are you sure you want to exit?</p>
                  <button id="confirmLogout">Yes</button>
                  <button id="cancelLogout">No</button>
                </div>
            </div>
          <div class="container" id="container1">
            <img
              src="https://img.freepik.com/free-photo/young-caucasian-traveler-girl-talking-phone-holding-tickets-with-suitcase-isolated-white-background_141793-20416.jpg?size=626&ext=jpg&ga=GA1.1.1894579647.1706434369&semt=ais"
              alt="Image 2"
            />
            <p>
              If you are the one who is looking for extra luggage space, you're
              in the right place! Click the "Get Help" button to explore all the
              posts related to finding extra luggage space and helpful tips.
            </p>
            <a href="{% url 'help' %}" class="btn btn-get-help">Get Help</a>
          </div>
          <div class="container" id="container2">
            <img
              src="https://img.freepik.com/free-photo/side-view-woman-traveling-with-baggage_23-2149986666.jpg?size=626&ext=jpg&ga=GA1.1.1894579647.1706434369&semt=ais"
              alt="Image 2"
            />
            <p>
              Are you willing to offer your extra luggage space to those in
              need? Click the "Post Help" button to share your availability and
              connect with travelers looking for assistance with their luggage.
            </p>
            <a href="{% url 'post' %}" class="btn btn-get-help">Post Help</a>
          </div>
        </main>
      </section>
    </div>
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const allSideMenu = document.querySelectorAll(
          "#sidebar .side-menu.top li a"
        );
        const myPostsContainer = document.getElementById("my-posts-container");

        allSideMenu.forEach((item) => {
          const li = item.parentElement;

          item.addEventListener("click", function () {
            allSideMenu.forEach((i) => {
              i.parentElement.classList.remove("active");
            });
            li.classList.add("active");

            // Toggle the visibility of My Posts based on the clicked icon
            myPostsContainer.classList.toggle(
              "show",
              item.id === "my-posts-link"
            );

            // Hide the content container for other icons
            const contentContainer =
              document.querySelector(".content-container");
            contentContainer.style.display =
              item.id === "my-posts-link" ? "block" : "none";
          });
        });
      });
    </script>
    <style>
      #my-posts-container {
        display: none;
      }

      .post-item {
        list-style: none;
        margin-bottom: 10px;
        padding: 10px;
        border: 1px solid black; /* Add a border for separation */
        border-radius: 5px;
        background-color: #4168bb;
        /* #3C91E6; */
      }

      .post-container {
        padding: 10px;
      }

      #my-posts-container.show {
        display: flex;
      }
    </style>
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const editProfileLink = document.getElementById("edit-profile-link");
        const contentContainer = document.querySelector(".profile-content");

        editProfileLink.addEventListener("click", function (event) {
          event.preventDefault();

          // Fetch the content from the server (you might need to adjust the URL)
          fetch("{% url 'edit_profile' %}")
            .then((response) => response.text())
            .then((data) => {
              // Replace the content in the profile content area with the loaded data
              contentContainer.innerHTML = data;
            });
        });

        const allSideMenu = document.querySelectorAll(
          "#sidebar .side-menu.top li a"
        );

        allSideMenu.forEach((item) => {
          const li = item.parentElement;

          item.addEventListener("click", function () {
            allSideMenu.forEach((i) => {
              i.parentElement.classList.remove("active");
            });
            li.classList.add("active");

            // Hide the edit profile form when clicking on other icons
            contentContainer.innerHTML = "";
          });
        });

        // Your existing script...
        const menuBar = document.querySelector("#content nav .bx.bx-menu");
        const sidebar = document.getElementById("sidebar");

        menuBar.addEventListener("click", function () {
          sidebar.classList.toggle("hide");
        });

        const searchButton = document.querySelector(
          "#content nav form .form-input button"
        );
        const searchButtonIcon = document.querySelector(
          "#content nav form .form-input button .bx"
        );
        const searchForm = document.querySelector("#content nav form");

        searchButton.addEventListener("click", function (e) {
          if (window.innerWidth < 576) {
            e.preventDefault();
            searchForm.classList.toggle("show");
            if (searchForm.classList.contains("show")) {
              searchButtonIcon.classList.replace("bx-search", "bx-x");
            } else {
              searchButtonIcon.classList.replace("bx-x", "bx-search");
            }
          }
        });

        if (window.innerWidth < 768) {
          sidebar.classList.add("hide");
        } else if (window.innerWidth > 576) {
          searchButtonIcon.classList.replace("bx-x", "bx-search");
          searchForm.classList.remove("show");
        }

        window.addEventListener("resize", function () {
          if (this.innerWidth > 576) {
            searchButtonIcon.classList.replace("bx-x", "bx-search");
            searchForm.classList.remove("show");
          }
        });

        const switchMode = document.getElementById("switch-mode");

        switchMode.addEventListener("change", function () {
          if (this.checked) {
            document.body.classList.add("dark");
          } else {
            document.body.classList.remove("dark");
          }
        });
      });
    </script>
    <script>
      window.onload = function () {
        document
          .getElementById("logoutButton")
          .addEventListener("click", function (event) {
            event.preventDefault(); // Prevent the default form submission

            var logoutModal = document.getElementById("logoutModal");
            logoutModal.style.display = "flex";

            document
              .getElementById("confirmLogout")
              .addEventListener("click", function () {
                // Redirect to the logout URL only if the user clicks "Yes"
                window.location.href = "{% url 'logout' %}";
              });

            document
              .getElementById("cancelLogout")
              .addEventListener("click", function () {
                logoutModal.style.display = "none";
              });
          });
      };
    </script>
  </body>
</html>
